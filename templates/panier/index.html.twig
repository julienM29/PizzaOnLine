{% extends 'base.html.twig' %}


{% block body %}


    <h2 class="flex item-center justify-center text-5xl mt-8"> Votre panier </h2>

    {% if detailsCommandePanier is not empty %}
        {% for detailCommande in detailsCommandePanier %}
            <div class="flex items-center justify-center mt-8">
                <div class="mb-4 text-xl" id="photo">
                    <div class="flex mt-2 mr-4">
                        {% for pizza in pizzas %}
                            {% if pizza.nom == detailCommande.produit.nom %}
                                <img src="images/{{ pizza.urlImage }}"
                                     style="width: 150px; height: 100px;" class="mb-2">
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                <div class="mb-4 text-xl">
                    <div class="mb-2 text-3xl w-[540px] " id="contenu">
                        <div class="flex items-center mb-5">
                            {{ detailCommande.produit.nom }}
                        </div>
                        <div class="flex items-center">
                            <div class="text-2xl ">Quantité : {{ detailCommande.quantite }}</div>
                            <div class="text-2xl ml-2">Taille : {{ detailCommande.taille.libelle }}</div>
                            <div class="text-2xl ml-2">Prix :
                                {% if detailCommande.taille.id == 2 %}
                                    {{ ((1.20*detailCommande.produit.prix) * detailCommande.quantite) | number_format(2, '.', ',') }}
                                {% else %}
                                    {{ (detailCommande.produit.prix * detailCommande.quantite) | number_format(2, '.', ',') }}
                                {% endif %}
                                €
                            </div>
                            <a href="{{ path('_suppressionDuPanier', {'id': detailCommande.id}) }}"
                               class="ml-auto hover:text-red-500 duration-200 justify-end">
                                <img src="{{ asset('images/croixRouge.png') }}" style="width: 40px; height: 40px;">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
        <div class="flex justify-center items-center w-full mt-10 mb-12">
            <div class="text-3xl hover:text-red-500 duration-200 font-bold">
                Prix total : {{ prixDuPanier | number_format(2, '.', ',') }} €
            </div>
            <div class="ml-12">
                <a href="{{ path('_payementPanier') }}"
                   class="ml-10 text-3xl hover:text-red-500 duration-200 font-bold ">Commander</a>
            </div>
        </div>
    {% endif %}
    {% if detailsCommandePanier is empty %}
        <h3><a href="{{ path('_accueil') }}" class="ml-7 flex item-center justify-center hover:text-red-500 duration-200 mt-20 text-4xl">Votre
                panier est vide, cliquer ici pour commander une pizza ! </a></h3>
    {% endif %}

{% endblock %}
